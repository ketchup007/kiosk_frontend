{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="top-section">
        <img src="{{ url_for('static', filename='images/MunchiesLogoPlain.svg') }}" alt="Munchies Logo" class="logo">
        <h1>{{ _('Order Confirmed') }}</h1>
    </div>
    <div class="middle-section">
        <h2>{{ _('Order Number: %(number)s', number=kds_number) }}</h2>
        <p>{{ _('Estimated waiting time: %(time)d min', time=estimated_waiting_time) }}</p>
        <div class="order-details">
            <h3>{{ _('Order Details') }}</h3>
            <ul>
            {% for item in order_details.items %}
                <li>{{ item.name }} x {{ item.quantity }}</li>
            {% endfor %}
            </ul>
        </div>
        <p>{{ _('Please pick up your order when your number is called.') }}</p>
    </div>
    <div class="bottom-section">
        <button id="return-home" class="action-button">{{ _('Return to Home') }}</button>
        <img src="{{ url_for('static', filename='images/robot_frame_1.svg') }}" alt="Robot" class="robot">
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const returnHomeButton = document.getElementById('return-home');
    returnHomeButton.addEventListener('click', function() {
        window.location.href = '/';
    });

    // Automatic redirect after 2 minutes
    setTimeout(function() {
        window.location.href = '/';
    }, 120000);
});
</script>
{% endblock %}
