{% extends "base.html" %}

{% block content %}
<div class="payment-container" data-order-id="{{ order_id }}" data-order-total="{{ total }}">
    <div class="payment-top-section">
        <img src="{{ url_for('static', filename='images/MunchiesLogoPlain.svg') }}" alt="Munchies Logo" class="payment-logo">
        <div class="payment-summary">
            <h2>{{ _('Order Summary') }}</h2>
            <p>{{ _('Total: %(total).2f %(currency)s', total=total, currency=_('PLN')) }}</p>
        </div>
    </div>
    <div class="payment-middle-section">
        <h2>{{ _('Payment Instructions') }}</h2>
        <p>{{ _('Please follow the instructions on the payment terminal.') }}</p>
        <div id="payment-status" class="payment-status"></div>
    </div>
    <div class="payment-bottom-section">
        <button id="cancel-payment" class="payment-action-button">{{ _('Cancel Payment') }}</button>
        <button id="finalize-payment" class="payment-action-button">
            {{ _('Pay %(total).2f %(currency)s', total=total, currency=_('PLN')) }}
        </button>
    </div>
</div>
{% endblock %}

{% block head %}
{{ super() }}
<style>
    .payment-status {
        font-size: 24px;
        font-weight: bold;
        margin: 20px 0;
        padding: 15px;
        border-radius: 5px;
        transition: all 0.3s ease;
    }

    .payment-status.processing {
        color: #2196F3;
        background-color: rgba(33, 150, 243, 0.1);
    }

    .payment-status.error {
        color: #f44336;
        background-color: rgba(244, 67, 54, 0.1);
    }

    .payment-status.success {
        color: #4CAF50;
        background-color: rgba(76, 175, 80, 0.1);
    }
</style>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/payment.js') }}"></script>
{% endblock %}
